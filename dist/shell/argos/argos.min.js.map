{"version":3,"sources":["argos-api-rest.js","argos-config.js","argos-dom.js","argos-forms.js","argos-globals.js","argos-json-utils.js","argos-log-errors.js","argos-log.js","argos-msg.js","argos-rest-utils.js","argos-router.js","argos-utils.js","argos-views-utils.js","argos-views.js"],"names":["miObjeto","miPropiedad","Symbol","console","log","ApiRest","optionsOverride","options","_setOptions","restUtils","getOptionsDefault","prop","optionsDefault","hasOwnProperty","req","i","len","setRequestHeader","type","charset","headers","length","key","value","resource","verb","aditionalData","deferred","Q","defer","XMLHttpRequest","queryString","prepareQueryString","postData","JSON","stringify","serverResponse","open","_setHeaders","onreadystatechange","e","readyState","prepareResponse","isValid","errorInterceptor","showErrorServer","errorDescription","reject","showPreload","hidePreloader","resolve","content","showPreloader","send","promise","_doRequest","putData","deleteData","config","module","self","optionsState","serviceWorkers","init","urlConfig","restOptions","instanceRest","getResource","then","data","initAll","error","environment","generalData","lang","active","rest","setOptionsDefault","setSpecialCodes","specialCodes","forceEntry","defaultState","getOptionsState","getServiceWorkers","getEnvironment","getLang","argosDom","params","selector","document","querySelectorAll","Ar","methods","hide","classList","add","show","remove","toggle","addClass","classAdd","removeClass","classRemove","toggleClass","classToggle","setStyle","style","fade","text","textContent","html","indexOf","innerHTML","parentNode","removeChild","onRender","node","timer","interval","timeCount","setTimeout","clearTimeout","nodeToCheck","isEmpty","obj","object","openModal","idModal","modal","getElementById","setAttribute","closeModal","fn","prototype","window","forms","getValues","idForm","nodes","jsonForm","radioInputs","warning","toLowerCase","name","getAttribute","getValue","push","_node_","idNode","tagName","trim","checked","querySelector","_getMultiSelectValues","selectedValues","selected","enabled","_setEnabled","disabled","enab","required","_setRequired","notRequired","resetErrors","checkRequired","checkType","customValidation","addError","_checkIsNumber","_checkIsString","_checkIsEmail","rule","test","RegExp","errorType","errorString","globals","getTexts","formValidations","isRequired","wrongFormat","insertAdjacentHTML","addErrorMsg","msg","stringHTML","allStates","allTexts","allEndPoints","currentState","getAllStates","loadAllStates","uri","states","setCurrentState","_state_","_section_","state","section","getCurrentState","loadTexts","loadRest","prepareRest","prefix","baseUrl","suffix","endPoints","getRest","jsonUtils","copyObject","obToCopy","parse","findInArray","_array_","valueToFind","_array","findInObject","logErrors","addListeners","onerror","message","source","lineno","colno","success","table","_lastClass","showError","header","body","_showMsg","showWarning","showSuccess","showMsg","msgElement","msgHeader","msgBody","codes","validation","response","parseResponse","responseText","blockingErrors400","blockingErrors500","status","statusText","result","code","serverError","target","validCode","checkTokenExpired","tokenSanExpiration","resetToken","newOptions","query","output","call","slice","getSpecialCodes","errorMsg","router","stateSelected","checkIsSupported","history","addEventListener","setRoute","argumentsFn","split","stateGo","findRouteByUrl","entry","url","views","loadView","executeFunction","replaceState","resetStateSelected","currentHash","location","hash","findRouteByState","replace","getQueryString","search","substring","temp","itemTemp","cleanQueryString","href","shift","pushState","functionName","_context_","context","args","Array","namespaces","func","pop","apply","stateIsDefined","utils","viewPort","isAndroid","navigator","userAgent","match","isiOS","isFirefox","isMobile","getNavigator","viewsUtils","renderTemplate","_data_","_source_","_container_","template","Handlebars","compile","compiledTemplate","container","ctrlsLoaded","tplsLoaded","scriptsContainer","tplsContainer","allPromisses","currentCtrl","firstChild","controllers","loadControllers","templates","loadTemplates","all","results","checkAllReady","timeout","getNameController","controller","ctrlName","charAt","toUpperCase","nodeScript","createElement","controllerName","src","id","onload","addCtrlLoaded","appendChild","templatePath","templateScript","check","entryCtrl","toString"],"mappings":"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","file":"argos.min.js","sourcesContent":["/**\r\n * @namespace ApiRest\r\n * @return {undefined}\r\n * @param {object} [optionsOverride] Set default options\r\n * optionsOverride = {\r\n    'type': 'application/json',\r\n    'headers': [{'key': 'foo', 'value': 'bar'}],\r\n    'charset': 'ASCII',\r\n    'showPreload': true,\r\n    'errorInterceptor': true\r\n    }\r\n  };\r\n *\r\n * @description class for api rest.\r\n */\r\n\r\n\r\n      let miObjeto = {}\r\n      let miPropiedad = Symbol(\"miSimbolo\");\r\n      miObjeto[miPropiedad] = 'foo';\r\n\r\n      console.log(miObjeto)\r\n\r\nclass ApiRest {\r\n\r\n  constructor(optionsOverride) {\r\n    this.options = optionsOverride ? this._setOptions(optionsOverride) : restUtils.getOptionsDefault();\r\n  }\r\n\r\n  _setOptions(optionsOverride) {\r\n    let prop;\r\n    let optionsDefault = restUtils.getOptionsDefault();\r\n\r\n    for (prop in optionsOverride) {\r\n      if ( optionsDefault.hasOwnProperty(prop) ) {\r\n        optionsDefault[prop] = optionsOverride[prop];\r\n      }\r\n    }\r\n    return optionsDefault;\r\n  }\r\n\r\n  _setHeaders(req) {\r\n    let i = 0;\r\n    let len;\r\n\r\n    if ( this.options.hasOwnProperty('type') ) {\r\n      req.setRequestHeader('Content-Type', this.options.type +'; charset='+this.options.charset);\r\n    }\r\n    if ( this.options.hasOwnProperty('headers') && this.options.headers.length ) {\r\n      len = this.options.headers.length;\r\n      for (; i<len; i++ ) {\r\n        req.setRequestHeader(this.options.headers[i].key, this.options.headers[i].value);\r\n      }\r\n    }\r\n    return req;\r\n  }\r\n\r\n  _doRequest(resource, verb, aditionalData) {\r\n    let deferred  = Q.defer();\r\n    let req           = new XMLHttpRequest();\r\n    let queryString   = verb === 'GET' && typeof aditionalData === 'object' ? restUtils.prepareQueryString(aditionalData) : '';\r\n    let postData      = verb !== 'GET' && aditionalData ? JSON.stringify(aditionalData) : '';\r\n    let serverResponse = {};\r\n\r\n    req.open(verb, resource + queryString, true);\r\n    req = this._setHeaders(req);\r\n\r\n    req.onreadystatechange = (e)=> {\r\n      if ( req.readyState !== 4 ) {\r\n        return;\r\n      }\r\n      serverResponse = restUtils.prepareResponse(e, req, this.options);\r\n\r\n      if ( !serverResponse.isValid && this.options.errorInterceptor ) {\r\n          restUtils.showErrorServer(serverResponse.errorDescription);\r\n          deferred.reject(serverResponse.errorDescription);\r\n\r\n      } else {\r\n        if ( this.options.showPreload ) {\r\n          restUtils.hidePreloader();\r\n        }\r\n       deferred.resolve(serverResponse.content);\r\n      }\r\n    }\r\n\r\n    if ( this.options.showPreload ) {\r\n      restUtils.showPreloader();\r\n    }\r\n\r\n    req.send(postData);\r\n    return deferred.promise;\r\n  }\r\n\r\n  getResource(resource, queryString) {\r\n    return this._doRequest(resource, 'GET', queryString);\r\n  }\r\n\r\n  postResource(resource, postData) {\r\n    return this._doRequest(resource, 'POST', postData);\r\n  }\r\n\r\n  putResource(resource, putData) {\r\n    return this._doRequest(resource, 'PUT', putData);\r\n  }\r\n\r\n  deleteResource(resource, deleteData) {\r\n    return this._doRequest(resource, 'DELETE', deleteData);\r\n  }\r\n\r\n}\r\n","\"use strict\";\r\n\r\n/*eslint-disable no-unused-vars*/\r\nconst config = (function() {\r\n/*eslint-enable no-unused-vars*/\r\n\r\n  let module  = {};\r\n  let self    = module;\r\n\r\n  module.config  = {\r\n\t\t'environment': 'develop',\r\n\t\t'lang': 'en_En'\r\n  };\r\n\r\n\tmodule.optionsState = {\r\n    'forceEntry': false,\r\n    'defaultState': 'main'\r\n\t};\r\n\r\n  module.serviceWorkers = {\r\n    'active': false\r\n  };\r\n\r\n  module.init = ()=> {\r\n    let deferred = Q.defer();\r\n    let urlConfig = './shell/theme/config.json';\r\n    let restOptions = {\r\n      'type': 'application/json',\r\n      'showPreload': false,\r\n      'errorInterceptor': true\r\n    };\r\n    let instanceRest = new ApiRest(restOptions);\r\n\r\n    instanceRest.getResource(urlConfig).then(\r\n      (data)=> {\r\n        self.initAll(data);\r\n        deferred.resolve();\r\n      },\r\n      (error) => {\r\n        log.error('error get config data: '+ error);\r\n        deferred.reject();\r\n      });\r\n      return deferred.promise;\r\n  };\r\n\r\n  module.initAll = (data)=> {\r\n    self.config.environment     = data.generalData.environment;\r\n    self.config.lang            = data.generalData.lang;\r\n    self.serviceWorkers.active  = data.serviceWorkers.active;\r\n\r\n    if ( data.rest.hasOwnProperty('restOptions') ) {\r\n      restUtils.setOptionsDefault(data.rest.restOptions);\r\n    }\r\n    if ( data.rest.hasOwnProperty('specialCodes') ) {\r\n      restUtils.setSpecialCodes(data.rest.specialCodes);\r\n    }\r\n    if (  data.hasOwnProperty('optionsState') && data.optionsState.hasOwnProperty('forceEntry') ) {\r\n      self.optionsState.forceEntry    = data.optionsState.forceEntry;\r\n      self.optionsState.defaultState  = data.optionsState.defaultState;\r\n    }\r\n  };\r\n\r\n  module.getOptionsState = () => {\r\n    return self.optionsState;\r\n  };\r\n\r\n  module.getServiceWorkers = () => {\r\n    return self.serviceWorkers;\r\n  };\r\n\r\n  module.getEnvironment = ()=> {\r\n    return self.config.environment;\r\n  };\r\n\r\n  module.getLang  = ()=> {\r\n    return self.config.lang;\r\n  };\r\n\r\n  return {\r\n    init:               module.init,\r\n    getOptionsState:    module.getOptionsState,\r\n    getEnvironment:     module.getEnvironment,\r\n    getLang:            module.getLang,\r\n    getServiceWorkers:  module.getServiceWorkers\r\n  };\r\n\r\n } )();\r\n","/**\r\n * @namespace Ar\r\n * @description Lite module for DOM manipulating\r\n * methods (work in progress)\r\n *\r\n  *  **text()** inserta una cadena de texto en los elementos seleccionados\r\n  *  ```javascript\r\n    Ar('.foo').text('bazinga');\r\n    ```\r\n\r\n  *  **html()** inserta una cadena de html en los elementos seleccionados. Su uso es obligatorio cuando se inserta html derivado del mundo exterior de la aplicación, ya que previene la inserción de scripts.\r\n  *  ```javascript\r\n    Ar('.foo').html('bazinga');\r\n    ```\r\n\r\n  *  **hide()** oculta uno o más elementos\r\n  * ```javascript\r\n    Ar('.foo').hide();\r\n    ```\r\n\r\n  * **show()** muestra uno o más elementos\r\n  *  ```javascript\r\n    Ar('.foo').hide();\r\n    ```\r\n\r\n  *  **toggle()** togglea la visibilidad de uno o más elementos\r\n  * ```javascript\r\n    Ar('.foo').hide();\r\n    ```\r\n\r\n  *  **addClass()** añade una clase\r\n  * ```javascript\r\n    Ar('.foo').addClass('clase');\r\n    ```\r\n\r\n  *  **removeClass()** elimina una clase\r\n  * ```javascript\r\n    Ar('.foo').removeClass('clase');\r\n    ```\r\n\r\n  *  **toggleClass()** togglea una clase\r\n  * ```javascript\r\n    Ar('.foo').toggleClass('clase');\r\n    ```\r\n\r\n  *  **setStyle()** cambia un estilo (en línea)\r\n  * ```javascript\r\n    Ar('.foo').setStyle('color', 'red');\r\n    ```\r\n\r\n  *  **remove()** elimina un nodo (y sus listeners asociados)\r\n  * ```javascript\r\n    Ar('.foo').remove();\r\n    ```\r\n\r\n  *  **onRender()** chequea que un nodo esté renderizado\r\n  * ```javascript\r\n    Ar().onRender('#foo');\r\n    ```\r\n*/\r\n\r\n(function () {\r\n\r\n  const argosDom = function (params) {\r\n    let selector = document.querySelectorAll(params);\r\n    let i = 0;\r\n    this.length = selector.length;\r\n\r\n    for (; i < this.length; i++) {\r\n      this[i] = selector[i];\r\n    }\r\n    return this;\r\n  };\r\n\r\n  const Ar = function(params) {\r\n    return new argosDom(params);\r\n  };\r\n\r\n  const methods = {};\r\n\r\n  methods.self = this;\r\n\r\n  methods.hide = function() {\r\n    let len = this.length;\r\n\r\n    while (len--) {\r\n      this[len].classList.add('argos-hide');\r\n    }\r\n    return this;\r\n  };\r\n\r\n  methods.show = function() {\r\n    let len = this.length;\r\n\r\n    while (len--) {\r\n      this[len].classList.remove('argos-hide');\r\n    }\r\n    return this;\r\n  };\r\n\r\n  methods.toggle = function() {\r\n    let len = this.length;\r\n\r\n    while (len--) {\r\n      this[len].classList.toggle('argos-hide');\r\n    }\r\n    return this;\r\n  };\r\n\r\n  methods.addClass = function(classAdd) {\r\n    let len = this.length;\r\n\r\n    if ( classAdd ) {\r\n      while (len--) {\r\n        this[len].classList.add(classAdd);\r\n      }\r\n    }\r\n    return this;\r\n  };\r\n\r\n  methods.removeClass = function(classRemove) {\r\n    let len = this.length;\r\n\r\n    if ( classRemove ) {\r\n      while (len--) {\r\n        this[len].classList.remove(classRemove);\r\n      }\r\n    }\r\n    return this;\r\n  };\r\n\r\n  methods.toggleClass = function(classToggle) {\r\n    let len = this.length;\r\n\r\n    if (classToggle ) {\r\n      while (len--) {\r\n        this[len].classList.toggle(classToggle);\r\n      }\r\n    }\r\n    return this;\r\n  };\r\n\r\n  methods.setStyle = function(style, value) {\r\n    let len = this.length;\r\n\r\n    if ( style && value ) {\r\n      while (len--) {\r\n        this[len].style[style] = value;\r\n      }\r\n    }\r\n    return this;\r\n  };\r\n\r\n  methods.fade = function() {\r\n    let len = this.length;\r\n\r\n    while (len--) {\r\n      this[len].classList.add('fade');\r\n      this[len].classList.add('fade-in');\r\n      this[len].classList.add('fade-out');\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  methods.text = function(text) {\r\n    let len = this.length;\r\n\r\n    while (len--) {\r\n      this[len].textContent = text;\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  methods.html = function(content) {\r\n    let len = this.length;\r\n\r\n    if ( content.indexOf('script') !== -1 ) {\r\n      content = 'scripts are not allowed';\r\n    }\r\n\r\n    while (len--) {\r\n      this[len].innerHTML = content;\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  methods.remove = function() {\r\n    let len = this.length;\r\n\r\n    while (len--) {\r\n      if ( this[len].parentNode ) {\r\n        this[len].parentNode.removeChild(this[len]);\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n\r\n  methods.onRender = function(node) {\r\n    let deferred = Q.defer();\r\n    const timer = {\r\n\r\n      interval: function() {\r\n        let self = this;\r\n        let timeCount = setTimeout(function() {\r\n          clearTimeout(timeCount);\r\n          self.init(node);\r\n        }, 100);\r\n      },\r\n\r\n      init: function(node) {\r\n        let nodeToCheck = document.querySelectorAll(node);\r\n\r\n        if ( !nodeToCheck || nodeToCheck.length === 0 ) {\r\n          this.interval(node);\r\n          return;\r\n        }\r\n        deferred.resolve();\r\n      }\r\n\r\n    };\r\n\r\n    timer.init(node);\r\n    return deferred.promise;\r\n  };\r\n\r\n  methods.isEmpty = function(obj) {\r\n    let object = obj;\r\n\r\n    for(let prop in object) {\r\n      if(object.hasOwnProperty(prop)){\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  methods.openModal = function(idModal) {\r\n    let modal = document.getElementById(idModal);\r\n\r\n    modal.setAttribute('show','show');\r\n  };\r\n\r\n  methods.closeModal = function() {\r\n    this[0].setAttribute('show','hidden');\r\n  };\r\n\r\n  Ar.fn = argosDom.prototype = methods;\r\n\r\n  if ( !window.Ar ) {\r\n    window.Ar = Ar;\r\n  }\r\n\r\n})();\r\n","'use strict';\r\n\r\n/**\r\n * @namespace forms\r\n * @description module for work with forms.\r\n * todo: show error server\r\n */\r\nconst forms = (function() {\r\n\r\n  const module    = {};\r\n  const self      = module;\r\n\r\n  /* ====================================================\r\n      get values\r\n  ==================================================== */\r\n\r\n  /**\r\n  * @memberof forms#\r\n  * @method\r\n  * @name getValues\r\n  * @param {string} idForm - The id of the form.\r\n  * @return {object} All form childrens values.\r\n  * @description return pair key-value for each input.\r\n  * The inputs need have the class 'js-itemForm' and, recommended, an atribute called 'data-key'.\r\n  * @example:\r\n  *  ```html\r\n    <input type=\"text\" name=\"inputText\" class=\"js-itemForm\" data-key=\"inputText\">\r\n    ```\r\n  */\r\n  module.getValues = (idForm)=> {\r\n    let nodes       = document.querySelectorAll('#'+idForm + ' .js-itemForm');\r\n    let jsonForm    = {};\r\n    let i           = 0;\r\n    let len         = nodes.length;\r\n    let key         = '';\r\n    let value       = '';\r\n    /* guardamos aquí los radioButtons para no setearlos más de una vez */\r\n    let radioInputs = [];\r\n\r\n    if ( !len ) {\r\n      log.warning('the form dont have inputs or mybe forget add js-itemForm class?');\r\n    }\r\n\r\n    for (; i<len; i++) {\r\n      if ( nodes[i].type.toLowerCase() !== 'radio' || radioInputs.indexOf(nodes[i].name) === -1 ) {\r\n        key   = nodes[i].getAttribute('data-key') || nodes[i].name || i;\r\n        value = self.getValue(nodes[i]);\r\n        jsonForm[key] = value;\r\n        if ( nodes[i].type.toLowerCase() === 'radio' ) {\r\n          radioInputs.push(nodes[i].name);\r\n        }\r\n      }\r\n    }\r\n\r\n    return jsonForm;\r\n  };\r\n\r\n  /**\r\n  * @memberof forms#\r\n  * @method\r\n  * @name getValue\r\n  * @param {(string | object} _node_ - The id element or the element of form.\r\n  * @return {string |array} The form element value.\r\n  */\r\n  module.getValue = (_node_)=> {\r\n    let node     = typeof _node_ === 'string' ? document.getElementById(idNode) : _node_;\r\n    let value    = '';\r\n    let type     = '';\r\n\r\n    if ( !node ) {\r\n      log.warning('getValue() :: there is no element');\r\n    }\r\n\r\n    type = node.tagName.toLowerCase() !== 'input' ? node.tagName.toLowerCase() : node.type.toLowerCase();\r\n    type = type === 'select' && node.type === 'select-multiple' ? 'select-multiple' : type;\r\n\r\n    switch (type) {\r\n      case 'text':\r\n      case 'textarea':\r\n      case 'number':\r\n        value = node.value.trim();\r\n        break;\r\n      case 'checkbox':\r\n        value = node.checked ? node.value : false;\r\n        break;\r\n      case 'radio':\r\n        value = document.querySelector('input[name = \"' + node.name + '\"]:checked').value;\r\n        break;\r\n      case 'select-multiple':\r\n        value = self._getMultiSelectValues(node);\r\n        break;\r\n      default:\r\n        value = node.value;\r\n    }\r\n\r\n    return value;\r\n  };\r\n\r\n  /**\r\n  * @memberof forms#\r\n  * @method\r\n  * @name _getMultiSelectValues\r\n  * @param {object} _node_ - The element multi-select of form.\r\n  * @return {array} The multi-select value.\r\n  */\r\n  module._getMultiSelectValues = (node)=> {\r\n    let selectedValues = [];\r\n    let i = 0;\r\n    let len = node.length;\r\n\r\n    for (; i < len; i++) {\r\n      if (node.options[i].selected) {\r\n        selectedValues.push(node.options[i].value);\r\n      }\r\n    }\r\n    return selectedValues;\r\n  };\r\n\r\n  /* ====================================================\r\n      utils\r\n  ==================================================== */\r\n\r\n  module.enabled = (idNode)=> {\r\n    self._setEnabled(idNode, false);\r\n  };\r\n\r\n  module.disabled = (idNode)=> {\r\n    self._setEnabled(idNode, true);\r\n  };\r\n\r\n  module._setEnabled = (idNode, enab)=> {\r\n    document.getElementById(idNode).setAttribute('disabled', enab);\r\n  };\r\n\r\n  module.required = (idNode)=> {\r\n    self._setRequired(idNode, 'required');\r\n  };\r\n\r\n  module.notRequired = (idNode)=> {\r\n    self._setRequired(idNode, false);\r\n  };\r\n\r\n  module._setRequired = (idNode, req)=> {\r\n    document.getElementById(idNode).setAttribute('data-required', req);\r\n  };\r\n\r\n  /* ====================================================\r\n      validity checks\r\n  ==================================================== */\r\n\r\n  module.isValid = (idForm)=> {\r\n    let nodes       = document.querySelectorAll('#'+idForm + ' .js-itemForm');\r\n    let i           = 0;\r\n    let len         = nodes.length;\r\n    let isValid     = true;\r\n\r\n    if ( !len ) {\r\n      log.warning('the form dont have inputs or mybe forget add js-itemForm class?');\r\n    }\r\n\r\n    self.resetErrors(idForm);\r\n\r\n    for (; i<len; i++) {\r\n      if ( !self.checkRequired(nodes[i]) || !self.checkType(nodes[i]) || !self.customValidation(nodes[i]) ) {\r\n        isValid = false;\r\n      }\r\n    }\r\n    return isValid;\r\n  };\r\n\r\n  /* No le paso los nodos para que se pueda usar como método de forma independiente */\r\n  module.resetErrors = (idForm)=> {\r\n    let nodes = document.querySelectorAll('#'+idForm + ' .js-itemForm');\r\n    let i     = 0;\r\n    let len   = nodes.length;\r\n\r\n    for (; i<len; i++) {\r\n      nodes[i].classList.remove('hasError');\r\n    }\r\n\r\n    nodes = document.querySelectorAll('#'+idForm + ' .js-argosErrorMsg');\r\n    i     = 0;\r\n    len   = nodes.length;\r\n\r\n    for (; i<len; i++) {\r\n     nodes[i].parentNode.removeChild(nodes[i]);\r\n    }\r\n  };\r\n\r\n  module.checkRequired = (node)=> {\r\n    let isValid = true;\r\n\r\n    if ( node.getAttribute('data-required') === 'required' && !self.getValue(node) ) {\r\n      isValid = false;\r\n      self.addError(node, 'required');\r\n    }\r\n    return isValid;\r\n  };\r\n\r\n  module.checkType = (node)=> {\r\n    let type =  node.getAttribute('data-type');\r\n\r\n    switch(type) {\r\n      case 'isNumber':\r\n        return self._checkIsNumber(node);\r\n      case 'isString':\r\n        return self._checkIsString(node);\r\n      case 'isEmail':\r\n      return self._checkIsEmail(node);\r\n      default:\r\n        return true;\r\n    }\r\n  };\r\n\r\n  module._checkIsString = (node)=> {\r\n    let isValid = true;\r\n    let rule    = /[1-9]/i;\r\n    let value   = self.getValue(node);\r\n\r\n    if ( !rule.test(value) ) {\r\n      isValid = false;\r\n      self.addError(node, 'notString');\r\n    }\r\n    return isValid;\r\n  };\r\n\r\n  module._checkIsNumber = (node)=> {\r\n    let isValid = true;\r\n    let rule    = /^[0-9]*$/g;\r\n    let value   = self.getValue(node);\r\n\r\n    if ( !rule.test(value) ) {\r\n      isValid = false;\r\n      self.addError(node, 'notNumber');\r\n    }\r\n\r\n    if ( node.getAttribute('data-zero') && node.getAttribute('data-zero') === 'notAllowed' && value === 0 ) {\r\n      self.addError(node, 'notZero');\r\n      isValid = false;\r\n    }\r\n\r\n    if ( node.getAttribute('data-negative') && node.getAttribute('data-negative') === 'notAllowed' && value < 0 ) {\r\n      self.addError(node, 'notNegative');\r\n      isValid = false;\r\n    }\r\n\r\n    return isValid;\r\n  };\r\n\r\n  module._checkIsEmail = (node)=> {\r\n    let isValid = true;\r\n    let rule    = /[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}/;\r\n    let value   = self.getValue(node);\r\n\r\n    if ( !rule.test(value) ) {\r\n        isValid = false;\r\n        self.addError(node, 'notEmail');\r\n    }\r\n\r\n    return isValid;\r\n  };\r\n\r\n  module.customValidation = (node)=> {\r\n    let isValid = true;\r\n    let rule    = node.getAttribute('data-regex') ? new RegExp(node.getAttribute('data-regex'), 'i') : false;\r\n    let value   = self.getValue(node);\r\n\r\n    if ( !rule ) {\r\n      return isValid;\r\n    }\r\n\r\n    if ( !rule.test(value) ) {\r\n      isValid = false;\r\n      self.addError(node, node.getAttribute('data-regexErrMsg') || 'wrongFormat');\r\n    }\r\n\r\n    return isValid;\r\n  };\r\n\r\n  /* todo: ampliar tipología de errores */\r\n  module.addError = (node, errorType)=> {\r\n    let errorString = '';\r\n\r\n    switch (errorType) {\r\n      case 'required':\r\n        errorString = globals.getTexts().formValidations.isRequired;\r\n        break;\r\n      default:\r\n        errorString = globals.getTexts().formValidations.wrongFormat;\r\n    }\r\n    node.insertAdjacentHTML('afterend', self.addErrorMsg(errorString));\r\n    node.classList.add('hasError');\r\n  };\r\n\r\n  module.addErrorMsg = (msg)=> {\r\n    let stringHTML = `<div class=\"form__error js-argosErrorMsg\"><div class=\"form__error__arrow\"></div>${msg}</div></div>`;\r\n\r\n    return stringHTML;\r\n  };\r\n\r\n  return {\r\n    getValues:          module.getValues,\r\n    getValue:           module.getValue,\r\n    disabled:           module.disabled,\r\n    enabled:            module.enabled,\r\n    required:           module.required,\r\n    notRequired:        module.notRequired,\r\n    isValid:            module.isValid,\r\n    checkRequired:      module.checkRequired,\r\n    checkType:          module.checkType,\r\n    customValidation:   module.customValidation,\r\n    addError:           module.addError,\r\n    addErrorMsg:        module.addErrorMsg\r\n  };\r\n\r\n})();\r\n","'use strict';\r\n\r\n/**\r\n * @namespace globals\r\n * @description get and set application global data\r\n */\r\nconst globals = (function() {\r\n\r\n  const module    = {};\r\n  const self      = module;\r\n\r\n  module.allStates    = [];\r\n  module.allTexts     = {};\r\n  module.allEndPoints = {};\r\n\r\n  module.currentState = {\r\n\t\t'state': 'main',\r\n  \t'section': ''\r\n\t};\r\n\r\n  module.getAllStates = ()=> {\r\n    return self.allStates;\r\n  };\r\n\r\n  module.loadAllStates = ()=> {\r\n    let instanceRest = new ApiRest();\r\n    let deferred     = Q.defer();\r\n    let uri          = './shell/theme/states.json';\r\n\r\n    instanceRest.getResource(uri).then(\r\n      (data)=> {\r\n        self.allStates = data.states;\r\n        deferred.resolve(data);\r\n      },\r\n      (error) => {\r\n        log.error('error get states: '+ error);\r\n        deferred.reject();\r\n      });\r\n    return deferred.promise;\r\n  };\r\n\r\n  module.setCurrentState = (_state_, _section_)=> {\r\n    if ( !_state_) {\r\n      log.warning('dont set state if stage is not defined');\r\n      return;\r\n    }\r\n    self.currentState.state    = _state_;\r\n    self.currentState.section  =  _section_ ? _section_ : '';\r\n  };\r\n\r\n  module.getCurrentState = ()=> {\r\n    return self.currentState;\r\n  };\r\n\r\n  module.getTexts = ()=> {\r\n    return self.allTexts;\r\n  };\r\n\r\n  module.loadTexts = ()=> {\r\n    let instanceRest = new ApiRest();\r\n    let deferred     = Q.defer();\r\n    let lang         = config.getLang();\r\n    let uri          = './shell/theme/langs/' + lang + '.json';\r\n\r\n    instanceRest.getResource(uri).then(\r\n      (data)=> {\r\n        self.allTexts = data;\r\n        deferred.resolve(data);\r\n      },\r\n      (error) => {\r\n        log.error('error loadTexts: '+ error);\r\n        deferred.reject();\r\n      });\r\n    return deferred.promise;\r\n  };\r\n\r\n  module.loadRest = ()=> {\r\n    let instanceRest = new ApiRest();\r\n    let deferred     = Q.defer();\r\n    let lang         = config.getLang();\r\n    let uri          = './shell/theme/rest.json';\r\n\r\n    instanceRest.getResource(uri).then(\r\n      (data)=> {\r\n        self.prepareRest(data);\r\n        deferred.resolve();\r\n      },\r\n      (error) => {\r\n        log.error('error load config rest: '+ error);\r\n        deferred.reject();\r\n      });\r\n    return deferred.promise;\r\n  };\r\n\r\n  module.prepareRest = (data)=> {\r\n    let environment = config.getEnvironment();\r\n    let prefix      = data.generalData.baseUrl[environment];\r\n    let suffix      = data.generalData.type[environment];\r\n\r\n    for (let prop in data.endPoints) {\r\n      self.allEndPoints[prop] = prefix + data.endPoints[prop] + suffix;\r\n    }\r\n\r\n  };\r\n\r\n  module.getRest = ()=> {\r\n    return self.allEndPoints;\r\n  };\r\n\r\n  return {\r\n    getAllStates:     module.getAllStates,\r\n    loadAllStates:    module.loadAllStates,\r\n    getCurrentState:  module.getCurrentState,\r\n    setCurrentState:  module.setCurrentState,\r\n    getTexts:         module.getTexts,\r\n    loadTexts:        module.loadTexts,\r\n    loadRest:         module.loadRest,\r\n    getRest:          module.getRest\r\n  };\r\n\r\n})();\r\n","'use strict';\r\n\r\n/**\r\n * @namespace jsonUtils\r\n * @description utils to work with collections (arrays and objects)\r\n */\r\n\r\nconst jsonUtils = (function() {\r\n\r\n  const module    = {};\r\n  const self      = module;\r\n\r\n  module.copyObject = (obToCopy)=> {\r\n    return JSON.parse(JSON.stringify(obToCopy));\r\n  };\r\n\r\n  module.findInArray = (_array_, valueToFind)=> {\r\n    let i   = 0;\r\n    let len = _array.length;\r\n\r\n    for(; i<len; i++) {\r\n      if ( valueToFind === _array_[i] ) {\r\n        return _array_[i];\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  module.findInObject = (_array_, key, value)=> {\r\n    let i   = 0;\r\n    let len = _array_.length;\r\n\r\n    for(; i<len; i++) {\r\n      for (let prop in _array_[i] ) {\r\n        if ( prop === key && _array_[i][prop] === value ) {\r\n          return _array_[i];\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n\r\n  return {\r\n    copyObject:     module.copyObject,\r\n    findInArray:    module.findInArray,\r\n    findInObject:   module.findInObject\r\n\r\n  };\r\n\r\n})();\r\n","'use strict';\r\n\r\n/**\r\n * @namespace logErrors\r\n * @description get and set application global data\r\n * todo: send errors to server\r\n */\r\nconst logErrors = (function() {\r\n\r\n  const module    = {};\r\n  const self      = module;\r\n\r\n  module.init = ()=> {\r\n    self.addListeners();\r\n  };\r\n\r\n  module.addListeners = ()=> {\r\n    window.onerror = function(message, source, lineno, colno, error) {\r\n      let msg =\r\n        `error: ${message}\r\n        file: ${source}\r\n        line: ${lineno}\r\n        col: ${colno}\r\n        error: ${error}`;\r\n        log.error(msg)\r\n    }\r\n  };\r\n\r\n  return {\r\n    init: module.init\r\n  };\r\n\r\n})();\r\n","'use strict';\r\n\r\n/**\r\n * @namespace log\r\n * @description secure console.log\r\n */\r\nconst log = (function() {\r\n\r\n  const module    = {};\r\n  const self      = module;\r\n\r\n  const environment = config.getEnvironment();\r\n\r\n  module.success = (msg)=> {\r\n    if ( msg && environment !== 'production' ) {\r\n      console.log('%c'+ msg, 'color: #45a163');\r\n    }\r\n  };\r\n\r\n  module.log = (msg)=> {\r\n    if ( msg && environment !== 'production' ) {\r\n      console.log('%c'+ msg, 'color: #005999');\r\n    }\r\n  };\r\n\r\n  module.warning = (msg)=> {\r\n    if ( msg && environment !== 'production' ) {\r\n      console.log('%c'+ msg, 'color: #f48024');\r\n    }\r\n  };\r\n\r\n  module.error = (msg)=> {\r\n    if ( msg && environment !== 'production' ) {\r\n      console.log('%c'+ msg, 'color: #f42424');\r\n    }\r\n  };\r\n\r\n  module.table = (msg)=> {\r\n    if ( msg && environment !== 'production' ) {\r\n      console.table(msg);\r\n    }\r\n  };\r\n\r\n  return {\r\n    success:  module.success,\r\n    log:      module.log,\r\n    warning:  module.warning,\r\n    error:    module.error,\r\n    table:    module.table\r\n  };\r\n\r\n})();\r\n","'use strict';\r\n\r\n/**\r\n * @namespace msg\r\n * @description\r\n */\r\nconst msg = (function() {\r\n\r\n  const module    = {};\r\n  const self      = module;\r\n\r\n  module._lastClass = '';\r\n\r\n  module.showError = (header, body)=> {\r\n    self._showMsg('alert', header, body);\r\n  };\r\n\r\n  module.showWarning = (header, body)=> {\r\n    self._showMsg('warning', header, body);\r\n  };\r\n\r\n  module.showSuccess = (header, body)=> {\r\n    self._showMsg('success', header, body);\r\n  };\r\n\r\n  module.showErrorServer = (error)=> {\r\n    self._showMsg.showMsg('alert', 'server error', error);\r\n    // todo : bloquear la aplicación\r\n  };\r\n\r\n  module.showMsg = (type, header, body)=> {\r\n    let msgElement  = document.getElementById('argos-msg');\r\n    let msgHeader   = header || '';\r\n    let msgBody     = body || '';\r\n\r\n    if ( self._lastClass ) {\r\n      msgElement.classList.remove(self._lastClass);\r\n    }\r\n    self._lastClass = type;\r\n    msgElement.classList.add(type);\r\n\r\n    document.getElementById('argos-msg-header').textContent = msgHeader;\r\n    document.getElementById('argos-msg-body').textContent = msgBody;\r\n\r\n    msgElement.classList.add('argos-fade-out');\r\n    msgElement.classList.remove('argos-hide');\r\n    msgElement.classList.add('argos-fade-in');\r\n  };\r\n\r\n  return {\r\n    showError:          module.showError,\r\n    showWarning:        module.showWarning,\r\n    showSuccess:        module.showSuccess,\r\n    showErrorServer:    module.showErrorServer\r\n  };\r\n\r\n})();\r\n\r\n","const restUtils = (function() {\r\n\r\n  const module    = {};\r\n  const self      = module;\r\n\r\n  module.optionsDefault = {\r\n    'type': 'application/json',\r\n    'headers': [],\r\n    'charset': 'utf-8',\r\n    'showPreload': true,\r\n    'errorInterceptor': true\r\n  };\r\n\r\n  module.codes = {\r\n    'success': 'san-200',\r\n    'notFound': 'san-404',\r\n    'notAuth': 'san-403',\r\n    'serverError': 'san-500',\r\n    'tokenExpiration': '401',\r\n    'tokenSanExpiration': 'san-441',\r\n    'tokenCorporateExpiration': 'san-442'\r\n  };\r\n\r\n  module.prepareResponse = (e, req, options)=> {\r\n    let validation        = {};\r\n    let response          = options.type === 'application/json' ? self.parseResponse(e) : req.responseText;\r\n    let blockingErrors400 = ['403', '405', '406', '413', '414', '415', '416', '417', '429'];\r\n    let blockingErrors500  = /^5/;\r\n\r\n    validation.isValid          = true,\r\n    validation.content          = response;\r\n    validation.errorDescription = '';\r\n\r\n    if ( blockingErrors500.test(req.status) || blockingErrors400.indexOf(req.status) !== -1 ) {\r\n      validation.isValid          = false;\r\n      validation.errorDescription = req.status.statusText ? req.status.statusText : 'error server';\r\n      return validation;\r\n    }\r\n\r\n    if ( !options ) {\r\n      return validation;\r\n    }\r\n\r\n    if ( options.type === 'application/json' && !response ) {\r\n      validation.isValid          = false;\r\n      validation.errorDescription = 'error server: bad format json';\r\n      return validation;\r\n    }\r\n\r\n    if ( response.hasOwnProperty('result') && response.result.code === self.codes.serverError ) {\r\n      validation.isValid          = false;\r\n      validation.errorDescription = response.result.message ? response.result.message : 'error server';\r\n      return validation;\r\n    }\r\n\r\n    return validation;\r\n  };\r\n\r\n  module.parseResponse = (e)=> {\r\n    let data = {};\r\n\r\n    try {\r\n       data = JSON.parse(e.target.responseText);\r\n    } catch(error) {\r\n      data = null;\r\n      log.error('error parsing data', e);\r\n    }\r\n    return data;\r\n  };\r\n\r\n  module.validCode = (result)=> {\r\n    if ( result.code === this.codes.success ) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  module.checkTokenExpired = (result)=> {\r\n    if ( result.code === this.codes.tokenSanExpiration ) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  // todo, revisar\r\n  module.resetToken = ()=> {\r\n//     let deferred = Q.defer();\r\n//\r\n//     function reset(corporateToken) {\r\n//       restToken.getAuthToken(corporateToken).then(function(data) {\r\n//         restOptions.headers[0].value = data.authToken;\r\n//         deferred.resolve();\r\n//       });\r\n//     }\r\n//\r\n//     if ( !config.tokenUrl ) {\r\n//       restToken.getCorporateToken().then(function(corporateToken) {\r\n//         reset(corporateToken);\r\n//       });\r\n//     } else {\r\n//       reset(corporateToken);\r\n//     }\r\n//     return deferred.promise;\r\n  };\r\n\r\n  module.getOptionsDefault = ()=> {\r\n    return JSON.parse(JSON.stringify(self.optionsDefault));\r\n  };\r\n\r\n  module.setOptionsDefault = (newOptions)=> {\r\n    let key;\r\n\r\n    if ( typeof newOptions !== 'object' ) {\r\n      log.error('new options must be an object');\r\n      return false;\r\n    }\r\n    for ( key in newOptions ) {\r\n      self.optionsDefault.key = newOptions[key]\r\n    }\r\n    return true;\r\n  };\r\n\r\n  module.prepareQueryString = (queryString)=> {\r\n    let query   = queryString || {};\r\n    let output  = '?';\r\n    let prop;\r\n\r\n    for (prop in query) {\r\n      if ({}.hasOwnProperty.call(query, prop)) {\r\n        output += prop + '=' + query[prop] + '&';\r\n      }\r\n    }\r\n    output = output.length ? output.slice(0, -1) : output;\r\n\r\n    return output;\r\n  };\r\n\r\n  module.getSpecialCodes = ()=> {\r\n    return self.codes;\r\n  };\r\n\r\n  module.setSpecialCodes = (specialCodes)=> {\r\n    self.codes = specialCodes;\r\n  };\r\n\r\n  /* todo: preparar una alternativa no polymer */\r\n  module.showPreloader = function() {\r\n    let node = document.getElementById('js-mainPreload');\r\n\r\n    if ( node ) {\r\n      node.setAttribute('show', 'show');\r\n    }\r\n  };\r\n\r\n  /* todo: preparar una alternativa no polymer */\r\n  module.hidePreloader = function() {\r\n    let node = document.getElementById('js-mainPreload');\r\n\r\n    if ( node ) {\r\n      node.setAttribute('show', 'hidden');\r\n    }\r\n  };\r\n\r\n  module.showErrorServer = function(errorMsg) {\r\n    msg.showErrorServer(errorMsg);\r\n  };\r\n\r\n  return {\r\n    getOptionsDefault:  module.getOptionsDefault,\r\n    setOptionsDefault:  module.setOptionsDefault,\r\n    getSpecialCodes:    module.getSpecialCodes,\r\n    setSpecialCodes:    module.setSpecialCodes,\r\n    prepareQueryString: module.prepareQueryString,\r\n    prepareResponse:    module.prepareResponse,\r\n    showPreloader:      module.showPreloader,\r\n    hidePreloader:      module.hidePreloader,\r\n    showErrorServer:    module.showErrorServer\r\n  };\r\n\r\n})();\r\n","'use strict';\r\n\r\n/**\r\n * @namespace router\r\n * @description proxy routes\r\n */\r\nconst router = (function() {\r\n\r\n  const module    = {};\r\n  const self      = module;\r\n\r\n  module.stateSelected = {};\r\n\r\n  /**\r\n  * @memberof router#\r\n  * @method\r\n  * @name init\r\n  * @return {undefined}\r\n  * @description init states listeners\r\n  */\r\n  module.init = ()=> {\r\n    if ( !self.checkIsSupported() ) {\r\n      msg.showError('browser deprecated', 'No support api navigation');\r\n      return;\r\n    }\r\n    self.addListeners();\r\n  };\r\n\r\n  /**\r\n  * @memberof router#\r\n  * @method\r\n  * @name checkIsSupported\r\n  * @return {boolean}\r\n  * @description check if browser can manage history and pushState,\r\n  * necessary for the system router.\r\n  */\r\n  module.checkIsSupported = ()=> {\r\n    if ('history' in window && 'pushState' in history) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  /**\r\n  * @memberof router#\r\n  * @method\r\n  * @name addListeners\r\n  * @return {undefined}\r\n  * @description add listener to hash (#) change\r\n  */\r\n  module.addListeners = ()=> {\r\n    window.addEventListener('hashchange', ()=> {\r\n      self.setRoute();\r\n    });\r\n  };\r\n\r\n  /**\r\n  * @memberof router#\r\n  * @method\r\n  * @name setRoute\r\n  * @return {undefined}\r\n  * @description set the url, call lazy load controllers, and call the method defined in routes.json\r\n  */\r\n\r\n//// OJO, FALTA CUANDO VIENE X ENLACE\r\n\r\n  module.setRoute = ()=> {\r\n    let argumentsFn = self.stateSelected.params ? self.stateSelected.params.split(',') : null;\r\n    let stateSelected;\r\n\r\n    /* Si no venimos de stateGo, hay que recuperar los datos */\r\n    if ( !self.stateSelected.stateGo ) {\r\n      stateSelected = self.findRouteByUrl();\r\n      /* Si no hay ningún estado, dejamos pasar para que se puedan usar los hastagh en la página */\r\n      if ( !stateSelected ) {\r\n        return;\r\n      } else {\r\n        self.stateSelected.state    = stateSelected.state;\r\n        self.stateSelected.section  = stateSelected.section;\r\n        self.stateSelected.entry    = stateSelected.entry;\r\n        self.stateSelected.url      = stateSelected.url;\r\n      }\r\n    }\r\n\r\n    globals.setCurrentState(self.stateSelected.state, self.stateSelected.section);\r\n\r\n    views.loadView(self.stateSelected.state).then( ()=> {\r\n      /* Si al final uso un namespace, pasar este en lugar de window */\r\n      self.executeFunction(self.stateSelected.entry, window, argumentsFn);\r\n      history.replaceState(self.stateSelected, self.stateSelected.state, '#'+self.stateSelected.url);\r\n      self.resetStateSelected();\r\n    });\r\n  };\r\n\r\n  module.stateGo = (state, params)=> {\r\n    let currentHash = window.location.hash;\r\n\r\n    self.stateSelected = JSON.parse( JSON.stringify(self.findRouteByState(state)) );\r\n\r\n    /* Cacheamos aquí los parámetros para pasarlos más adelante */\r\n    self.stateSelected.params = params;\r\n\r\n    /* Marcamos que venimos de state go para no duplicar el trabajo más adelante\r\n    y saber que ya tenemos el state seleccionado */\r\n     self.stateSelected.stateGo = true;\r\n\r\n    /* Para poder llamar a la misma página debemos chequear si estamos llamando\r\n    al mismo estado */\r\n    if ( currentHash && currentHash.replace('#', '') === self.stateSelected.url ) {\r\n      self.setRoute();\r\n    } else {\r\n      window.location.hash = self.stateSelected.url;\r\n    }\r\n  };\r\n\r\n  module.resetStateSelected = ()=>{\r\n    self.stateSelected = {\r\n      'state': '',\r\n      'url': '',\r\n      'entry': '',\r\n      'controllers': [],\r\n      'templates': [],\r\n      'params': '',\r\n      'stateGo': false\r\n    }\r\n  };\r\n\r\n  module.getQueryString = ()=> {\r\n    let query      = window.location.search.substring(1);\r\n    let  params    = {};\r\n    let  temp      = [];\r\n    let itemTemp   = [];\r\n    let  i         = 0;\r\n    let  len;\r\n\r\n    if ( query === '' ) {\r\n      return false;\r\n    }\r\n    if ( query.indexOf('&') !== -1 ) {\r\n      temp = query.split('&');\r\n\r\n    } else {\r\n      temp.push(query);\r\n    }\r\n    len = temp.length;\r\n    for (; i<len; i++ ) {\r\n      itemTemp = temp[i].split('=');\r\n      params[itemTemp[0]] = itemTemp[1];\r\n    }\r\n    return params;\r\n  };\r\n\r\n  module.cleanQueryString = ()=> {\r\n    let url = window.location.href;\r\n\r\n    url = url.split('?').shift();\r\n    window.history.pushState({},'', url);\r\n  };\r\n\r\n  module.executeFunction = (functionName, _context_)=> {\r\n    let context     = _context_ || window;\r\n    let args        = Array.prototype.slice.call(arguments, 2);\r\n    let namespaces  = functionName.split('.');\r\n    let func        = namespaces.pop();\r\n    let i           = 0;\r\n    let len         = namespaces.length;\r\n\r\n\r\n    for (; i < len; i++) {\r\n      context = context[namespaces[i]];\r\n    }\r\n    return context[func].apply(context, args);\r\n  };\r\n\r\n  module.findRouteByUrl = ()=> {\r\n    let states        = globals.getAllStates();\r\n    let len           = states.length;\r\n    let i             = 0;\r\n    let stateSelected = false;\r\n    let hash          = location.hash.replace('#', '');\r\n\r\n    for (; i<len; i++) {\r\n      if ( states[i].url === hash ) {\r\n        stateSelected = states[i];\r\n        break;\r\n      }\r\n    }\r\n\r\n    return stateSelected;\r\n  };\r\n\r\n  module.findRouteByState = (state)=> {\r\n    let states        = globals.getAllStates();\r\n    let len           = states.length;\r\n    let i             = 0;\r\n    let stateSelected = false;\r\n\r\n    for (; i<len; i++) {\r\n      if ( states[i].state === state ) {\r\n        stateSelected = states[i];\r\n        break;\r\n      }\r\n    }\r\n\r\n    return stateSelected;\r\n  };\r\n\r\n  module.stateIsDefined = (state)=> {\r\n    if ( self.findRouteByState() ) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n\r\n  return {\r\n    init:               module.init,\r\n    stateGo:            module.stateGo,\r\n    getQueryString:     module.getQueryString,\r\n    cleanQueryString:   module.cleanQueryString,\r\n    findRouteByState:   module.findRouteByState,\r\n    stateIsDefined:     module.stateIsDefined\r\n  };\r\n\r\n} )();\r\n","'use strict';\r\n\r\n/**\r\n * @namespace utilsJson\r\n * @description utils to work with collections (arrays and objects)\r\n */\r\n\r\nconst utils = (function() {\r\n\r\n  const module    = {};\r\n  const self      = module;\r\n\r\n  module.viewPort = ()=> {\r\n    let isAndroid = navigator.userAgent.match(/Android/i) !== null;\r\n    let isiOS     = navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)/i) !== null;\r\n    let isFirefox = navigator.userAgent.match(/Firefox/i) !== null;\r\n    let isMobile  = isiOS || isAndroid;\r\n\r\n    let getNavigator = {\r\n      'isAndroid': isAndroid,\r\n      'isiOS': isiOS,\r\n      'isMobile': isMobile,\r\n      'isFirefox': isFirefox\r\n    };\r\n    return getNavigator;\r\n  };\r\n\r\n  return {\r\n    viewPort: module.viewPort\r\n  };\r\n\r\n})();\r\n","'use strict';\r\n\r\n/**\r\n * @namespace viewstUtils\r\n * @description utilities views (screens)\r\n */\r\n\r\nconst viewsUtils = (function() {\r\n\r\n  const module    = {};\r\n  const self      = module;\r\n\r\n  module.renderTemplate = function(_data_, _source_, _container_) {\r\n    let source            = document.getElementById(_source_).innerHTML;\r\n    let template          = Handlebars.compile(source);\r\n    let compiledTemplate  = template(_data_);\r\n    let container         = _container_ || 'argos-main-stage';\r\n\r\n    document.getElementById(container).innerHTML = compiledTemplate;\r\n  };\r\n\r\n  return {\r\n    renderTemplate: module.renderTemplate\r\n  };\r\n\r\n})();\r\n","'use strict';\r\n\r\n/**\r\n * @namespace views\r\n * @description manage templates and controllers lazy load. argos-views-utils.js\r\n */\r\nconst views = (function() {\r\n\r\n  const module    = {};\r\n  const self      = module;\r\n\r\n  module.ctrlsLoaded    = [];\r\n  module.tplsLoaded     = [];\r\n  module.stateSelected  = {};\r\n\r\n  module.loadView = (state)=> {\r\n    let deferred          = Q.defer();\r\n    let len               = 0;\r\n    let stateSelected     = {};\r\n    let scriptsContainer  = document.getElementById('argos-scripts-container');\r\n    let tplsContainer     = document.getElementById('argos-templates-container');\r\n    let allPromisses      = [];\r\n    let currentCtrl       = '';\r\n\r\n    self.ctrlsLoaded    = [];\r\n    self.tplsLoaded     = [];\r\n    self.stateSelected  = {};\r\n\r\n    if ( !scriptsContainer || !tplsContainer ) {\r\n      log.error('nodes for lazy load are mandatory');\r\n    }\r\n\r\n    /* todo: llevar a un método empty() de argosDom */\r\n    while (scriptsContainer.firstChild) {\r\n      currentCtrl = scriptsContainer.firstChild.getAttribute('data-ctrl');\r\n      if ( window.hasOwnProperty(currentCtrl) ) {\r\n        delete window[currentCtrl];\r\n      }\r\n      scriptsContainer.removeChild(scriptsContainer.firstChild);\r\n    }\r\n    while (tplsContainer.firstChild) {\r\n      tplsContainer.removeChild(tplsContainer.firstChild);\r\n    }\r\n    self.stateSelected = router.findRouteByState(state);\r\n\r\n    len = self.stateSelected.controllers.length;\r\n    while(len--) {\r\n      self.loadControllers(state, self.stateSelected.controllers[len]);\r\n    }\r\n\r\n    len = self.stateSelected.templates.length;\r\n    while(len--) {\r\n      allPromisses.push(self.loadTemplates(state, self.stateSelected.templates[len]));\r\n    }\r\n\r\n    Q.all(allPromisses).then( (results)=> {\r\n      self.checkAllReady().then( ()=> {\r\n        let timeout = setTimeout(function() {\r\n          deferred.resolve();\r\n          clearTimeout(timeout);\r\n        }, 50);\r\n      });\r\n    }, (error)=> {\r\n      log.error('error get controller data: '+state);\r\n      deferred.reject();\r\n    });\r\n\r\n    return deferred.promise;\r\n  };\r\n\r\n  module.getNameController  = (controller)=> {\r\n    let ctrlName = controller.split('-');\r\n    let name = ctrlName.shift();\r\n    let i = 0;\r\n    let len = ctrlName.length;\r\n\r\n    for (; i<len; i++) {\r\n      name += ctrlName[i].charAt(0).toUpperCase() + ctrlName[i].slice(1);\r\n    }\r\n    return name;\r\n  };\r\n\r\n  module.loadControllers = (state, controller)=> {\r\n    let nodeScript      = document.createElement('script');\r\n    let controllerName  = self.getNameController(controller);\r\n\r\n    nodeScript.type   = 'text\\/javascript';\r\n    nodeScript.src    = './shell/theme/views/' +  state + '/' + controller + '.js';\r\n    nodeScript.id     = 'js-' + controller;\r\n    nodeScript.onload = self.addCtrlLoaded(controller);\r\n    document.getElementById('argos-scripts-container').appendChild(nodeScript);\r\n    nodeScript.setAttribute('data-ctrl', controllerName);\r\n  };\r\n\r\n  module.loadTemplates = (state, template)=> {\r\n    let req = new XMLHttpRequest();\r\n    let templatePath = './shell/theme/views/' +  state + '/' + template + '.html';\r\n\r\n    req.open('GET', templatePath, true);\r\n\r\n    req.onreadystatechange = function() {\r\n      let templateScript;\r\n      if (req.readyState === 4 && req.status === 200) {\r\n        templateScript = document.createElement('div');\r\n        templateScript.innerHTML = req.responseText;\r\n        document.getElementById('argos-templates-container').appendChild(templateScript);\r\n      }\r\n    };\r\n\r\n    req.send();\r\n  };\r\n\r\n  module.addCtrlLoaded = (controller)=> {\r\n    self.ctrlsLoaded.push(controller);\r\n  };\r\n\r\n  module.checkAllReady = ()=> {\r\n    let deferred  = Q.defer();\r\n    let check     = true;\r\n    let entryCtrl = self.stateSelected.entry.split('.').shift().toString();\r\n\r\n    if ( self.ctrlsLoaded.length === !self.stateSelected.controllers.length ) {\r\n      check = false;\r\n    }\r\n\r\n    if ( check ) {\r\n      deferred.resolve();\r\n    } else {\r\n      self.timer();\r\n    }\r\n\r\n    return deferred.promise;\r\n  };\r\n\r\n  module.timer = ()=> {\r\n    let timeout = setTimeout(function() {\r\n      self.checkAllReady();\r\n      clearTimeout(timeout);\r\n    }, 10);\r\n  };\r\n\r\n  return {\r\n    loadView: module.loadView\r\n  };\r\n\r\n} )();\r\n"],"sourceRoot":"/source/"}